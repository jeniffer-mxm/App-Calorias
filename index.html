<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CalTracker - Contador de Calorias</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@400,500,600,700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Spinner -->
    <div id="loading" class="loading hidden">
        <div class="spinner"></div>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="screen active">
        <div class="login-container">
            <div class="hero-section">
                <h1 class="brand-display">CalTracker</h1>
                <p class="hero-subtitle">Sua jornada fitness começa aqui</p>
            </div>
            
            <div class="auth-card">
                <div class="auth-tabs">
                    <button class="tab-btn active" data-tab="login">Login</button>
                    <button class="tab-btn" data-tab="register">Cadastro</button>
                </div>

                <!-- Login Form -->
                <form id="loginForm" class="auth-form active">
                    <h2 class="heading-3">Entrar na sua conta</h2>
                    
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="loginPassword">Senha</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-sign-in-alt"></i>
                        Entrar
                    </button>
                    
                    <p class="forgot-password">
                        <a href="#" id="forgotPasswordLink">Esqueceu a senha?</a>
                    </p>
                </form>

                <!-- Register Form -->
                <form id="registerForm" class="auth-form">
                    <h2 class="heading-3">Criar nova conta</h2>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="registerName">Nome</label>
                            <input type="text" id="registerName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerEmail">Email</label>
                            <input type="email" id="registerEmail" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="registerPassword">Senha</label>
                        <input type="password" id="registerPassword" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="registerAge">Idade</label>
                            <input type="number" id="registerAge" min="16" max="100" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerGender">Gênero</label>
                            <select id="registerGender" required>
                                <option value="">Selecione</option>
                                <option value="masculino">Masculino</option>
                                <option value="feminino">Feminino</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="registerWeight">Peso (kg)</label>
                            <input type="number" id="registerWeight" step="0.1" min="30" max="300" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerHeight">Altura (cm)</label>
                            <input type="number" id="registerHeight" min="100" max="250" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="registerActivity">Nível de Atividade</label>
                        <select id="registerActivity" required>
                            <option value="">Selecione</option>
                            <option value="sedentário">Sedentário (sem exercício)</option>
                            <option value="pouco_ativo">Pouco Ativo (1-3 dias/semana)</option>
                            <option value="moderadamente_ativo">Moderadamente Ativo (3-5 dias/semana)</option>
                            <option value="muito_ativo">Muito Ativo (6-7 dias/semana)</option>
                            <option value="extremamente_ativo">Extremamente Ativo (2x ao dia)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="registerGoalWeight">Peso Meta (kg) - Opcional</label>
                        <input type="number" id="registerGoalWeight" step="0.1" min="30" max="300">
                    </div>
                    
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-user-plus"></i>
                        Criar Conta
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Main App Screen -->
    <div id="mainScreen" class="screen">
        <!-- Header -->
        <header class="app-header">
            <div class="container">
                <div class="header-left">
                    <h1 class="app-title">CalTracker</h1>
                    <p class="welcome-text">Olá, <span id="userName">Usuário</span>!</p>
                </div>
                
                <div class="header-right">
                    <div class="profile-photo" id="profilePhoto">
                        <i class="fas fa-user"></i>
                    </div>
                    
                    <div class="header-actions">
                        <button class="btn-secondary" id="profileBtn">
                            <i class="fas fa-cog"></i>
                        </button>
                        
                        <button class="btn-secondary" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tab-navigation">
            <button class="nav-tab active" data-tab="dashboard">
                <i class="fas fa-chart-pie"></i>
                Dashboard
            </button>
            
            <button class="nav-tab" data-tab="scanner">
                <i class="fas fa-camera"></i>
                Escanear
            </button>
            
            <button class="nav-tab" data-tab="diary">
                <i class="fas fa-book"></i>
                Diário
            </button>
            
            <button class="nav-tab" data-tab="activities">
                <i class="fas fa-dumbbell"></i>
                Atividades
            </button>
        </nav>

        <!-- Dashboard Tab -->
        <div id="dashboardTab" class="tab-content active">
            <div class="container">
                <!-- Daily Summary Cards -->
                <div class="summary-cards">
                    <div class="summary-card calories">
                        <div class="card-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="card-content">
                            <h3 class="card-value" id="caloriesConsumed">0</h3>
                            <p class="card-label">Consumidas</p>
                        </div>
                    </div>
                    
                    <div class="summary-card burned">
                        <div class="card-icon">
                            <i class="fas fa-running"></i>
                        </div>
                        <div class="card-content">
                            <h3 class="card-value" id="caloriesBurned">0</h3>
                            <p class="card-label">Gastas</p>
                        </div>
                    </div>
                    
                    <div class="summary-card remaining">
                        <div class="card-icon">
                            <i class="fas fa-target"></i>
                        </div>
                        <div class="card-content">
                            <h3 class="card-value" id="caloriesRemaining">0</h3>
                            <p class="card-label">Restantes</p>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-section">
                    <div class="chart-card">
                        <h3 class="heading-4">Distribuição de Macronutrientes</h3>
                        <div class="chart-container">
                            <canvas id="macrosChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <h3 class="heading-4">Calorias - Últimos 7 Dias</h3>
                        <div class="chart-container">
                            <canvas id="weeklyChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scanner Tab -->
        <div id="scannerTab" class="tab-content">
            <div class="container">
                <div class="scanner-section">
                    <h2 class="heading-2">Analisar Alimento</h2>
                    <p class="body-medium">Tire uma foto ou envie uma imagem do seu alimento</p>
                    
                    <div class="camera-section">
                        <div class="camera-container">
                            <video id="cameraVideo" autoplay playsinline style="display: none;"></video>
                            <canvas id="cameraCanvas" style="display: none;"></canvas>
                            
                            <div id="cameraPreview" class="camera-preview">
                                <i class="fas fa-camera"></i>
                                <p>Clique para iniciar a câmera</p>
                            </div>
                        </div>
                        
                        <div class="camera-controls">
                            <button class="btn-primary" id="startCameraBtn">
                                <i class="fas fa-camera"></i>
                                Iniciar Câmera
                            </button>
                            
                            <button class="btn-secondary hidden" id="captureBtn">
                                <i class="fas fa-camera-retro"></i>
                                Capturar
                            </button>
                            
                            <button class="btn-secondary hidden" id="stopCameraBtn">
                                <i class="fas fa-stop"></i>
                                Parar
                            </button>
                        </div>
                    </div>
                    
                    <div class="upload-section">
                        <p class="body-medium">Ou envie uma imagem:</p>
                        <input type="file" id="imageUpload" accept="image/*" class="file-input">
                        <label for="imageUpload" class="file-label">
                            <i class="fas fa-upload"></i>
                            Selecionar Imagem
                        </label>
                    </div>
                    
                    <!-- Analysis Results -->
                    <div id="analysisResults" class="analysis-results hidden">
                        <h3 class="heading-3">Resultado da Análise</h3>
                        
                        <div class="food-info-card">
                            <h4 id="foodName" class="heading-4">Nome do Alimento</h4>
                            
                            <div class="nutrition-grid">
                                <div class="nutrition-item">
                                    <span class="nutrition-label">Calorias:</span>
                                    <span class="nutrition-value" id="foodCalories">0</span>
                                </div>
                                
                                <div class="nutrition-item">
                                    <span class="nutrition-label">Proteínas:</span>
                                    <span class="nutrition-value" id="foodProteins">0g</span>
                                </div>
                                
                                <div class="nutrition-item">
                                    <span class="nutrition-label">Carboidratos:</span>
                                    <span class="nutrition-value" id="foodCarbs">0g</span>
                                </div>
                                
                                <div class="nutrition-item">
                                    <span class="nutrition-label">Gorduras:</span>
                                    <span class="nutrition-value" id="foodFats">0g</span>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="foodQuantity">Quantidade (porções)</label>
                                <input type="number" id="foodQuantity" value="1" step="0.1" min="0.1">
                            </div>
                            
                            <button class="btn-primary" id="addAnalyzedFoodBtn">
                                <i class="fas fa-plus"></i>
                                Adicionar ao Diário
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Diary Tab -->
        <div id="diaryTab" class="tab-content">
            <div class="container">
                <div class="diary-header">
                    <h2 class="heading-2">Diário Alimentar</h2>
                    
                    <div class="date-selector">
                        <button class="btn-secondary" id="prevDayBtn">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        
                        <input type="date" id="selectedDate" class="date-input">
                        
                        <button class="btn-secondary" id="nextDayBtn">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Add Manual Food -->
                <div class="add-food-section">
                    <h3 class="heading-3">Adicionar Alimento Manualmente</h3>
                    
                    <form id="manualFoodForm" class="manual-food-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="manualFoodName">Nome do Alimento</label>
                                <input type="text" id="manualFoodName" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="manualFoodCalories">Calorias</label>
                                <input type="number" id="manualFoodCalories" step="0.1" min="0" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="manualFoodProteins">Proteínas (g)</label>
                                <input type="number" id="manualFoodProteins" step="0.1" min="0" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="manualFoodCarbs">Carboidratos (g)</label>
                                <input type="number" id="manualFoodCarbs" step="0.1" min="0" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="manualFoodFats">Gorduras (g)</label>
                                <input type="number" id="manualFoodFats" step="0.1" min="0" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="manualFoodQuantity">Quantidade</label>
                                <input type="number" id="manualFoodQuantity" step="0.1" min="0.1" value="1" required>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-plus"></i>
                            Adicionar ao Diário
                        </button>
                    </form>
                </div>
                
                <!-- Food List -->
                <div class="foods-list">
                    <h3 class="heading-3">Alimentos do Dia</h3>
                    <div id="foodsList" class="items-list">
                        <p class="empty-state">Nenhum alimento registrado hoje</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activities Tab -->
        <div id="activitiesTab" class="tab-content">
            <div class="container">
                <h2 class="heading-2">Atividades Físicas</h2>
                
                <!-- Add Activity -->
                <div class="add-activity-section">
                    <h3 class="heading-3">Registrar Atividade</h3>
                    
                    <form id="activityForm" class="activity-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="activityName">Atividade</label>
                                <select id="activityName" required>
                                    <option value="">Selecione uma atividade</option>
                                    <option value="Caminhada">Caminhada</option>
                                    <option value="Corrida">Corrida</option>
                                    <option value="Ciclismo">Ciclismo</option>
                                    <option value="Natação">Natação</option>
                                    <option value="Musculação">Musculação</option>
                                    <option value="Yoga">Yoga</option>
                                    <option value="Dança">Dança</option>
                                    <option value="Futebol">Futebol</option>
                                    <option value="Basquete">Basquete</option>
                                    <option value="Tênis">Tênis</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="activityDuration">Duração (minutos)</label>
                                <input type="number" id="activityDuration" min="1" required>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-plus"></i>
                            Registrar Atividade
                        </button>
                    </form>
                </div>
                
                <!-- Activities List -->
                <div class="activities-list">
                    <h3 class="heading-3">Atividades de Hoje</h3>
                    <div id="activitiesList" class="items-list">
                        <p class="empty-state">Nenhuma atividade registrada hoje</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Modal -->
        <div id="profileModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="heading-3">Perfil</h3>
                    <button class="close-modal" id="closeProfileModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="modal-body">
                    <div class="profile-info">
                        <div class="profile-photo-section">
                            <div class="profile-photo large" id="modalProfilePhoto">
                                <i class="fas fa-user"></i>
                            </div>
                            
                            <input type="file" id="profilePhotoInput" accept="image/*" class="file-input">
                            <label for="profilePhotoInput" class="btn-secondary">
                                <i class="fas fa-camera"></i>
                                Alterar Foto
                            </label>
                        </div>
                        
                        <div class="profile-details">
                            <div class="detail-item">
                                <strong>Nome:</strong>
                                <span id="profileName">-</span>
                            </div>
                            
                            <div class="detail-item">
                                <strong>Email:</strong>
                                <span id="profileEmail">-</span>
                            </div>
                            
                            <div class="detail-item">
                                <strong>Idade:</strong>
                                <span id="profileAge">-</span>
                            </div>
                            
                            <div class="detail-item">
                                <strong>Peso:</strong>
                                <span id="profileWeight">-</span>
                            </div>
                            
                            <div class="detail-item">
                                <strong>Altura:</strong>
                                <span id="profileHeight">-</span>
                            </div>
                            
                            <div class="detail-item">
                                <strong>Meta Diária:</strong>
                                <span id="profileDailyCalories">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>